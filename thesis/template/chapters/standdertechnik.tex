\chapter{Stand der Forschung}\label{chapter:sdf}

Dieses Kapitel untersucht den aktuellen Stand der Forschung und gibt einen Überblick über das Forschungsgebiet. Dazu wird zunächst im Grundsatz auf das Thema \emph{SLAM}, sowie auf das Thema Schleifenschlüsse eingegangen. Im Anschluss erfolgt eine Spezifizierung auf TSDF basierte SLAM-Verfahren, sowie die Ursprünge der TSDF.

\textbf{SLAM}



\textbf{Schleifenschlüsse}


\textbf{TSDF}

Die in dieser Arbeit entwickelten Algorithmen und Konzepte basieren oder zielen auf eine implizite, volumetrische Repräsentation der Umgebung eines Roboters oder Sensorsystems, die \emph{Truncated Signed Distance Function (TSDF)}. Erste Forschungen in diesem Themengebiet stammen aus der Computergrafik, genauer der Rekonstruktion von Oberflächen aus räumlichen Daten. Hoppe et al. definieren und demonstrieren einen Algorithmus, der aus einer gegebenen Menge von unorganisierten Punkten $\left\lbrace x_1, ..., x_n \right\rbrace \in \mathbb{R}^3$ eine vereinfachte Oberfläche generiert. Dazu wird eine vorzeichenbehaftete geometrische Distanzfunktion verwendete, die Distanz zur unbekannten Oberfläche abschätzt. Ein solche Distanzfunktion wird ebenfalls von Bajaj



TSDF:



%-----------------------------------------------------------------------------------%

\textbf{Proceedings of the 19th annual conference on computer graphics and interactive (1992), Hoppe et al.} \cite{hoppe1992surface}

\begin{description}
\item
beschreiben und demonstrieren einen Algorithmus, der aus einer gegebenen Menge von unorganisierten Punkten $\left\lbrace x_1, ..., x_n \right\rbrace \in \mathbb{R}^3$ eine vereinfachte Oberfläche generiert. Dazu wird eine vorzeichenbehaftete geometrische Distanzfunktion verwendete, die Distanz zur unbekannten Oberfläche abschätzt.
\end{description}

%-----------------------------------------------------------------------------------%


\textbf{Automatic reconstruction of surfaces and scalar fields from 3D scans (1995), Bajaj et al.} \cite{bajaj1995automatic}


\begin{description}
\item
präsentieren einen Ansatz zur Rekonstruktion der Oberflächen von CAD ( computer aided design) Modellen und den skalaren Feldern auf Basis einer unorganisierten Sammlung von gescannten Punktdaten
\end{description}

%-----------------------------------------------------------------------------------%

\textbf{A volumetric method for building complex models from range images (1996)} \cite{curless1996volumetric} 

\begin{description}
\item
neuer Ansatz zur Rekonstruktion von Oberflächen auf Basis einer vorzeichenbehafteten Distanzfunktion
\item
erlaubt Konstruktion einer solchen auf Basis einer Reihe von Range Images, gegeben aus Tiefenbildkameras oder Lidar (Light detection and ranging) sensoren
\item
ermöglicht ein inkrementelles Update, die repräsentation gerichteter Ungenauigkeit, die Möglichkeit Lücken in der Rekonstruktion zu füllen und robust gegen Outlier zu sein
\item 
neben diesen noch weitere (wünschenswerte) Eigenschaften: 
\item
inkrementelles Update unabhängig von der Reihenfolge der Anwendung der Scans -> kein Bias
\item
stellen zusätzlich die Algorithmik vor, Löcher innerhalb der Repräsentation zu schließen
\end{description}

%-----------------------------------------------------------------------------------%

\textbf{3D scan conversion of CSG models into distance volumes (1998), Breen et al.} \cite{breen19983d}

\begin{description}
\item
präsentieren einen Ansatz zur Generation von Distanz-Volumen auf Basis von \emph{Constructive Solid Geometry (CSG) Modellen.}
\end{description}


%-----------------------------------------------------------------------------------%

\textbf{Adaptively sampled distance fields: A general representation of shape for computer graphics (2000)} \cite{frisken2000adaptively}

\begin{description}
\item
adaptive vorzeichenbehaftete Distanzfelder für die Rekonstruktion komplexer Strukturen, Formen und Objekte (ADF)
\item
In ADFs werden Abstandsfelder entsprechend der lokalen Details adaptiv abgetastet und in einer räumlichen Hierarchie für eine effiziente Verarbeitung gespeichert
\item
vorteilhaft für räumliche Strukturen mit Features in sehr unterschiedlichen Maßstäben
\end{description}

%-----------------------------------------------------------------------------------%

\textbf{Representation of objects with sharp details in truncated distance fields (2004), Novotny \& Sramek} \cite{novotny2005representation}

\begin{description}
\item
stellen einen ansatz vor, der es ermöglicht in einem TSDF scharfe details zu repräsentieren
\item
Die Hauptidee besteht darin, die Objekte während des Voxelisierungsprozesses nach dem Kriterium der Darstellbarkeit zu verändern. Zusätzlich werden Informationen über die Oberflächen-Normalen mit berücksichtigt.
\end{description}

%-----------------------------------------------------------------------------------%

\textbf{GPU-accelerated adaptively sampled distance fieldsn (2008), Bastos \& Celes} \cite{bastos2008gpu}

\begin{description}
\item
stellen einen GPU basierten Ansatz für ADFs vor
\item
nutzen ein 3-D Hash-Schema zur Speicherung der vorliegenden Daten
\item
nutzen eine Ray-Casting Technik basierend auf Sphere-Tracing (sphärischer Verfolgung von Strahlen) für das Rendering der ADFs auf der GPU
\end{description}

%-----------------------------------------------------------------------------------%


\textbf{Kinectfusion: real-time 3d reconstruction and interaction using a moving depth camera (2011)} \cite{izadi2011kinectfusion}

\begin{description}
\item
nutzen ein TSDF-Voxelgrid und eine Kinect-Tiefenkamera, um Umbegungen zu kartieren, während ein Nutzer die Kinect Kamera durch die Umbebung schwenkt.
\end{description}

%-----------------------------------------------------------------------------------%

\textbf{Kintinuous: Spatially extended kinectfusion (2012)}\cite{whelan2012kintinuous}

\begin{description}
\item
optimieren den vorigen Ansatz durch Nutzung eines Ringbuffers zur Kartierung großer Umgebungen
\end{description}

%-----------------------------------------------------------------------------------%

\textbf{Truncated signed distance function: experiments on voxel size (2014)}\cite{werner2014truncated}

\begin{description}
\item
beschreibt TSDF als: \emph{eine volumetrischen Szenendarstellung, die die Integration mehrerer Tiefenbilder aus verschiedenen Blickwinkeln ermöglicht}
\item
untersucht die Parameter der TSDF mit besonderer Rücksicht auf die Größe der Voxel
\item
untersucht, welchen Einfluss die Voxel-Größe auf die Genauigkeit der Rekonstruktion hat
\item
zeigen, dass Tiefenfehler für Voxel-Größen zwischen 4 und 64mm in derselben Größenordnung liegen, aber laterale Fehler stark vom Verhältnis zwischen der Größe des Objektes und der Voxel-Größe abhängen und sich die Genauigkeit der Rekonstruktion entsprechend verhält, wenn die Objekte zu klein sind
\end{description}

%-----------------------------------------------------------------------------------%

\textbf{Truncated Signed Distance Fields Applied To Robotics (2017), Canelhas} \cite{Canelhas2017TruncatedSD}

\begin{description}
\item
Übersicht über das Thema (T)SDF
\item
inkrementelle Generation von TSDF auf Basis mehrerer Punktwolken
\item
Vorstellung eines Gradientenabstiegs zur Registrierung von Punktdaten an die generierte TSDF
\end{description}

%-----------------------------------------------------------------------------------%

\textbf{HATSDF SLAM – Hardware-accelerated TSDF SLAM for Reconfigurable SoCs (2021), Eidsolt et al.}

\begin{description}
\item
Basis für die Ausführungen dieser Arbeit
\item
verwenden in \cite{Canelhas2017TruncatedSD} vorgestellte Konzepte zur Generation eines TSDF und der Registrierung neuer Daten die das existierende TSDF mit einer Point-to-TSDF Strategie
\item
Nutzen eine zweigeteilte Karte (lokal und global) und einen Ring-Buffer, der sich an den Konzepten aus Kintinuous \cite{whelan2012kintinuous} orientiert
\item
Stellen die Nutzung rekonfigurierbarer SOCs zur laufzeittechnischen Optimierung der vorgestellten Ansätze heraus.
\end{description}




\textit{Simulataneous Localization and Mapping (SLAM)} ist eines der größten Forschungsgebiete in der mobilen Robotik. Die Forschungen zu diesem Problem reichen zurück bis vor die Jahrtausendwende.
Hauptbestandteil vieler SLAM Ansätze sind 3-D Punktwolken als Repräsentation der Umgebung, die mit Sensoren wie Laserscannern und Tiefenbildkameras aufgenommen werden können.



Dabei werden von verschiedenen Positionen im dreidimensionalen Raum \emph{(Posen)} Punktwolken aufgenommen. Um diese Punktwolken nahtlos aneinander anknüpfen zu können, müssen diese miteinander \emph{registriert} werden. Die Registrierung bestimmt die 3D Transformation (siehe dazu Kapitel \ref{section:transformationen}) zwischen zwei Punktwolken, wobei die \emph{Scan-Punktwolke} an die \emph{Model-Punktwolke} registriert wird.
Einer der bekanntesten Lösungen zur Registierung dreidimensionaler Punktdaten ist der \emph{Iterative Closest Points (ICP)} Algorithmus nach Besl \& McKay \cite{besl1992method}, der in einer Abwandlung ebenfalls von Borrmann et al. im GraphSLAM \cite{borrmann2008globally} verwendet wird.
Besl \& McKay \cite{besl1992method} bestimmen die gesuchte 3-D Transformation zwischen zwei Punktwolken durch eine Minimierung der Summe der quadrierten Distanzen der nächsten Punkte zwischen den beiden Punktwolken durch eine \emph{Singular Value Decomposition (SVD)}.
Die Konvergenz des ICP Algorithmus ist stark gekoppelt an die initiale Schätzung zwischen den beiden Laserscans. Ist diese nicht gut gewählt, konvergiert ICP häufig in lokale Minima, was zu ungewünschten Ergebnissen führt \cite{he2017iterative}. 
Bis heute gibt es zahlreiche Varitationen und Verbesserungen des ICP Algorithmus.
Chen \& Medioni \cite{chen1992object} erweitern ICP durch die Nutzung von Oberflächen-Normalen des Models und erweitern so die Kostenfunktion von ICP. Sie minimiert nun die Summe der quadrierten Distanzen zwischen einem Scanpunkt und der durch den Modelpunkt und die Oberflächennormale am Modelpunkt beschriebenen Ebene. Dieser Algorithmus wird auch \emph{Normal ICP (NICP)} genannt. 
Nach \cite{he2017iterative} reduziert NICP die Anzahl Iterationen und konvergiert schneller  gegen eine gewisse Grenze als ICP.
Segal et al. \cite{segal2009generalized} erweitern die Ideen aus \cite{chen1992object} um eine \emph{Plane-to-Plane} Metrik.
Neben genannten Methoden existieren zahlreiche weitere Variationen von ICP, die jeweils kleine Anpassungen vornehmen wie Chetverikov et al. \cite{chetverikov2005robust}, die einen \emph{Least Trimmed Squares} Ansatz zur Fehlerminimierung verwenden und so auch für Punktwolken anwendbar ist, deren Überlappung geringer als $50\%$ ist.

Erste Forschungen mit TSDF basiertem SLAM stammen aus dem letzten Jahrzehnt.
Izadi et al. \cite{izadi2011kinectfusion} nutzen ein TSDF-Voxelgrid und eine Kinect-Tiefenkamera, um Umbegungen zu kartieren, während ein Nutzer die Kinect Kamera durch die Umbebung schwenkt.
Whelan et al. \cite{whelan2012kintinuous} optimieren diesen Ansatz durch Nutzung eines Ringbuffers zur Kartierung großer Umgebungen.
Im Gegensatz zu genannten TSDF Verfahren, nutzen Eisoldt et al. \cite{HATSDF} einen Hardware beschleunigten TSDF basierten SLAM Ansatz, sowie einen 3D-Laserscanner anstelle einer Tiefenkamera. Eisoldt et. al \cite{HATSDF} nutzen zur Registierung neuer Punktwolken an die TSDF Karte einen \emph{Point-to-TSDF} Ansatz, der die Distanzen von Punkten zur durch die TSDF implizit beschriebenen Oberfläche entlang des Gradienten innerhalb der TSDF minimiert.


Borrmann et al. \cite{borrmann2008globally} schufen in ihrer Arbeit eine gute Grundlage für die Integration von Schleifenschlüssen in SLAM-Verfahren auf Basis von Pose-Graphen, die bis heute vielfach verwendet wird.
Darauf aufbauend optimieren Sprickerhof et al. \cite{sprickerhof2011heuristic} den Schleifenschluss-Ansatz durch Nutzung einer heuristischen Schleifenschluss-Technik, die im Gegensatz zu bisherigen Methoden einen dünn besetzten SLAM-Graphen nutzen.
McCormac et al. \cite{mccormac2018fusion++} schlagen ein Online-SLAM System, welches eine dauerhafte und genaue 3D Karte beliebiger rekonstruierter Objekte darstellt \cite{mccormac2018fusion++}. Die Rekonstruktionen sind als TSDF realisiert. \cite{mccormac2018fusion++} schlägt ebenfalls eine Integration von Schleifenschlüssen vor, diese verändert allerdings lediglich die relativen Poseschätzungen, aber führt zu keiner Verformung der durch die TSDF beschriebenen Objekte. An dieser Stelle wird also kein Update der TSDF durch Schleifenschlüsse vorgenommen.
Prisacariu et al. \cite{prisacariu2017infinitam} unterteilen den 3D-Raum in starre TSDF-Teilkarten und optimieren die relativen Positionen zwischen diesen. Nach \cite{prisacariu2017infinitam} ist eine anschließende Generation der globalen Karte durch ein Zusammenführen der Teilkarten möglich. \cite{prisacariu2017infinitam} verwendet für jede Pose des Graphen eine eigene Teilkarte, die in sich konsistent ist. \cite{prisacariu2017infinitam} erreichen eine globale Konsistenz durch eine Graph-Optimierung, die zusätzlich Schleifenschlüsse berücksichtigt. Optimiert werden die zu den Teilkarten zugehörigen Posen. Die TSDF-Teilkarten selbst werden durch die Graph-Optimierung nicht angepasst.
Ähnlich wie \cite{borrmann2008globally} nutzen Shan et al. \cite{shan2020lio} in ihrem Feature basierten SLAM Ansatz die euklidische Distanz zur Bestimmung von Kandidaten für Schleifenschlüsse, die durch eine Evaluation des \emph{Fitness-Scores} von ICP nach Registrierung der zugehörigen Punktwolken der beiden Posen der jeweiligen Kandidaten verifiziert werden.

An dieser Stelle setzt diese Arbeit nun an und integriert auf Basis der zuvor genannten Ansätze, Schleifenschlüsse in einen TSDF basierten SLAM Ansatz und die TSDF Karte entsprechend der Änderungen an der Roboter-Trajektorie zu optimieren.





